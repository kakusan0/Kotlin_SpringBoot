# =============================================================================
# Production Environment Configuration
# =============================================================================
# =============================================================================
# Database
# =============================================================================
spring.datasource.url=jdbc:postgresql://localhost:5432/demo_db
spring.datasource.username=demo_user
spring.datasource.password=demo_pass
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
# =============================================================================
# Flyway (Database Migration)
# =============================================================================
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=0
spring.flyway.validate-on-migrate=true
spring.flyway.clean-disabled=true
spring.flyway.out-of-order=false
# =============================================================================
# Server
# =============================================================================
server.port=8080
server.ssl.enabled=false
server.servlet.session.cookie.secure=false
# Session timeout (5 minutes)
server.servlet.session.timeout=5m
# =============================================================================
# Logging (Production level)
# =============================================================================
logging.level.root=WARN
logging.level.com.example.demo=INFO
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN
logging.file.name=logs/application.log
logging.logback.rollingpolicy.max-file-size=10MB
logging.logback.rollingpolicy.max-history=30
logging.logback.rollingpolicy.total-size-cap=1GB
# =============================================================================
# Thymeleaf (Cache enabled for production)
# =============================================================================
spring.thymeleaf.cache=true
# =============================================================================
# Static Resources (Long cache for production)
# =============================================================================
spring.web.resources.cache.cachecontrol.max-age=31536000
spring.web.resources.cache.cachecontrol.cache-public=true
# =============================================================================
# GeoIP
# =============================================================================
geoip.mmdb-path=/opt/geoip/GeoLite2-Country.mmdb
geoip.allowed-country-codes=JP
# =============================================================================
# Application Settings
# =============================================================================
app.trust-proxy=true
# =============================================================================
# Login Rate Limit (Strict for production)
# =============================================================================
# ?????????????????: 5???5????
app.login.rate-limit.capacity=5
app.login.rate-limit.refill-minutes=5
app.csp.connect-src='self'
# =============================================================================
# Redis (production) - replace with your Redis connection
# =============================================================================
spring.data.redis.host=redis-host
spring.data.redis.port=6379
# Use Redis for session store in production
spring.session.store-type=redis
spring.session.redis.namespace=app:sessions
