# Application Configuration
spring.application.name=demo

# Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/demo_db
spring.datasource.username=demo_user
spring.datasource.password=demo_pass

# Flyway Configuration
spring.flyway.enabled=true

# Session Configuration
spring.session.jdbc.initialize-schema=always

# MyBatis Configuration
mybatis.mapper-locations=classpath:mapper/*.xml

# --- Performance: HTTP response compression ---
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml
server.compression.min-response-size=1024

# --- Static resources: content hash versioning & cache ---
spring.web.resources.chain.enabled=true
spring.web.resources.chain.strategy.content.enabled=true
spring.web.resources.chain.strategy.content.paths=/**
spring.web.resources.cache.period=7d

# --- Undertow tuning ---
# HTTP/2 ?????ALPN + TLS ????
server.http2.enabled=true
# ?????? I/O ???????????GC ??????
server.undertow.direct-buffers=true
# 1???????????? 16KB ????I/O ??????????????
server.undertow.buffer-size=16KB
# ????????????????????????????????????
server.undertow.no-request-timeout=30s

# ????????????????
server.undertow.accesslog.enabled=true
server.undertow.accesslog.dir=logs
server.undertow.accesslog.pattern=combined
server.undertow.accesslog.prefix=access
server.undertow.accesslog.suffix=.log
server.undertow.accesslog.rotate=true

# ????????????CPU × 2 ? IO?IO × 8 ? worker????????
# ??????????????:
# server.undertow.threads.io=8
# server.undertow.threads.worker=64
