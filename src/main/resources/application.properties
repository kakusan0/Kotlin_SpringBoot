# Application Configuration
# spring.application.name ?????????????????
# Active Profile???????? dev ?????
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}
# Database (????? dev/prod ?????)
spring.datasource.url=jdbc:postgresql://localhost:5432/demo_db
spring.datasource.username=demo_user
spring.datasource.password=demo_pass

# Session (?????????????????)
spring.session.jdbc.initialize-schema=always
spring.session.jdbc.table-name=SPRING_SESSION
server.servlet.session.timeout=30m
server.servlet.session.cookie.same-site=strict

# Security (??????????????????????)
spring.security.user.name=disabled
spring.security.user.password=disabled

# MyBatis (???????????)
mybatis.mapper-locations=classpath*:mapper/*.xml
mybatis.configuration.map-underscore-to-camel-case=true
mybatis.configuration.default-fetch-size=100
mybatis.configuration.default-statement-timeout=30
mybatis.configuration.lazy-loading-enabled=true
mybatis.configuration.aggressive-lazy-loading=false

# Cache????????????????????
spring.cache.type=simple
spring.cache.cache-names=menuById,pathById

# Performance (???????????)
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml
server.compression.min-response-size=1024
server.http2.enabled=true

# Logging?root/web/security ? INFO ???????????????? pattern ????
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Actuator (?? expose ????)
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.health.defaults.enabled=true

# Jackson (????????)
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=Asia/Tokyo
spring.jackson.default-property-inclusion=non_null

# DevTools
spring.devtools.restart.additional-exclude=mapper/**,db/migration/**

# GeoIP
geoip.mmdb-path=C:/Users/gmaki/GeoLite2-Country.mmdb
geoip.allowed-country-codes=JP

# App settings
app.trust-proxy=false

# Static resources optimization (????????????)
spring.web.resources.cache.cachecontrol.max-age=31536000
spring.web.resources.cache.cachecontrol.cache-public=true
spring.web.resources.chain.enabled=true
spring.web.resources.chain.strategy.content.enabled=true
spring.web.resources.chain.strategy.content.paths=/**
