-- ============================================
-- calendar_holidays - 祝日・カレンダー情報
-- ============================================
CREATE TABLE IF NOT EXISTS calendar_holidays
(
    id
    BIGSERIAL
    PRIMARY
    KEY,
    holiday_date
    DATE
    NOT
    NULL,
    name
    VARCHAR
(
    128
) NOT NULL,
    year INTEGER NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW
(
),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW
(
),
    CONSTRAINT uq_calendar_holiday_date UNIQUE
(
    holiday_date
)
    );
CREATE INDEX IF NOT EXISTS idx_calendar_holidays_date ON calendar_holidays (holiday_date);
CREATE INDEX IF NOT EXISTS idx_calendar_holidays_year ON calendar_holidays (year);

-- 日本の祝日データ（2024年・2025年）を初期投入
INSERT INTO
    calendar_holidays (holiday_date, name, year)
VALUES
    -- 2024年
    ('2024-01-01', '元日', 2024)
    , ('2024-01-08', '成人の日', 2024)
    , ('2024-02-11', '建国記念の日', 2024)
    , ('2024-02-12', '振替休日', 2024)
    , ('2024-02-23', '天皇誕生日', 2024)
    , ('2024-03-20', '春分の日', 2024)
    , ('2024-04-29', '昭和の日', 2024)
    , ('2024-05-03', '憲法記念日', 2024)
    , ('2024-05-04', 'みどりの日', 2024)
    , ('2024-05-05', 'こどもの日', 2024)
    , ('2024-05-06', '振替休日', 2024)
    , ('2024-07-15', '海の日', 2024)
    , ('2024-08-11', '山の日', 2024)
    , ('2024-08-12', '振替休日', 2024)
    , ('2024-09-16', '敬老の日', 2024)
    , ('2024-09-22', '秋分の日', 2024)
    , ('2024-09-23', '振替休日', 2024)
    , ('2024-10-14', 'スポーツの日', 2024)
    , ('2024-11-03', '文化の日', 2024)
    , ('2024-11-04', '振替休日', 2024)
    , ('2024-11-23', '勤労感謝の日', 2024)
    ,
    -- 2025年
    ('2025-01-01', '元日', 2025)
    , ('2025-01-13', '成人の日', 2025)
    , ('2025-02-11', '建国記念の日', 2025)
    , ('2025-02-23', '天皇誕生日', 2025)
    , ('2025-02-24', '振替休日', 2025)
    , ('2025-03-20', '春分の日', 2025)
    , ('2025-04-29', '昭和の日', 2025)
    , ('2025-05-03', '憲法記念日', 2025)
    , ('2025-05-04', 'みどりの日', 2025)
    , ('2025-05-05', 'こどもの日', 2025)
    , ('2025-05-06', '振替休日', 2025)
    , ('2025-07-21', '海の日', 2025)
    , ('2025-08-11', '山の日', 2025)
    , ('2025-09-15', '敬老の日', 2025)
    , ('2025-09-23', '秋分の日', 2025)
    , ('2025-10-13', 'スポーツの日', 2025)
    , ('2025-11-03', '文化の日', 2025)
    , ('2025-11-23', '勤労感謝の日', 2025)
    , ('2025-11-24', '振替休日', 2025)
    ,
    -- 2026年
    ('2026-01-01', '元日', 2026)
    , ('2026-01-12', '成人の日', 2026)
    , ('2026-02-11', '建国記念の日', 2026)
    , ('2026-02-23', '天皇誕生日', 2026)
    , ('2026-03-20', '春分の日', 2026)
    , ('2026-04-29', '昭和の日', 2026)
    , ('2026-05-03', '憲法記念日', 2026)
    , ('2026-05-04', 'みどりの日', 2026)
    , ('2026-05-05', 'こどもの日', 2026)
    , ('2026-05-06', '振替休日', 2026)
    , ('2026-07-20', '海の日', 2026)
    , ('2026-08-11', '山の日', 2026)
    , ('2026-09-21', '敬老の日', 2026)
    , ('2026-09-22', '国民の休日', 2026)
    , ('2026-09-23', '秋分の日', 2026)
    , ('2026-10-12', 'スポーツの日', 2026)
    , ('2026-11-03', '文化の日', 2026)
    , ('2026-11-23', '勤労感謝の日', 2026) ON CONFLICT (holiday_date) DO NOTHING;

