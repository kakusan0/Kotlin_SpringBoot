Index: pom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n    <modelVersion>4.0.0</modelVersion>\r\n    <parent>\r\n        <groupId>org.springframework.boot</groupId>\r\n        <artifactId>spring-boot-starter-parent</artifactId>\r\n        <version>3.5.6</version>\r\n        <relativePath/>\r\n    </parent>\r\n    <groupId>com.example</groupId>\r\n    <artifactId>demo</artifactId>\r\n    <version>0.0.1-SNAPSHOT</version>\r\n    <packaging>jar</packaging>\r\n    <name>demo</name>\r\n    <description>Demo project for Spring Boot with Kotlin and MyBatis</description>\r\n\r\n    <properties>\r\n        <java.version>21</java.version>\r\n        <kotlin.version>1.9.25</kotlin.version>\r\n    </properties>\r\n\r\n    <dependencies>\r\n        <dependency>\r\n            <groupId>org.postgresql</groupId>\r\n            <artifactId>postgresql</artifactId>\r\n            <scope>runtime</scope>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.flywaydb</groupId>\r\n            <artifactId>flyway-core</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.flywaydb</groupId>\r\n            <artifactId>flyway-database-postgresql</artifactId>\r\n        </dependency>\r\n\r\n        <!-- Kotlin support -->\r\n        <dependency>\r\n            <groupId>org.jetbrains.kotlin</groupId>\r\n            <artifactId>kotlin-reflect</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.jetbrains.kotlin</groupId>\r\n            <artifactId>kotlin-stdlib</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>com.fasterxml.jackson.module</groupId>\r\n            <artifactId>jackson-module-kotlin</artifactId>\r\n        </dependency>\r\n\r\n        <!-- Session management -->\r\n        <dependency>\r\n            <groupId>org.springframework.session</groupId>\r\n            <artifactId>spring-session-jdbc</artifactId>\r\n        </dependency>\r\n\r\n        <!-- Docker Compose support -->\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-docker-compose</artifactId>\r\n            <scope>runtime</scope>\r\n        </dependency>\r\n\r\n        <!-- Development tools -->\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-devtools</artifactId>\r\n            <scope>runtime</scope>\r\n            <optional>true</optional>\r\n        </dependency>\r\n\r\n        <!-- Test dependencies -->\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter-test</artifactId>\r\n            <scope>test</scope>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.jetbrains.kotlin</groupId>\r\n            <artifactId>kotlin-test-junit5</artifactId>\r\n            <scope>test</scope>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-configuration-processor</artifactId>\r\n            <scope>annotationProcessor</scope>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter-web</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.mybatis.spring.boot</groupId>\r\n            <artifactId>mybatis-spring-boot-starter</artifactId>\r\n            <version>3.0.5</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.mybatis.spring.boot</groupId>\r\n            <artifactId>mybatis-spring-boot-starter-test</artifactId>\r\n            <version>3.0.5</version>\r\n            <scope>test</scope>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter-thymeleaf</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter-cache</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter-validation</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.webjars</groupId>\r\n            <artifactId>bootstrap</artifactId>\r\n            <version>5.3.8</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.webjars.npm</groupId>\r\n            <artifactId>bootstrap-icons</artifactId>\r\n            <version>1.13.1</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.webjars</groupId>\r\n            <artifactId>jquery</artifactId>\r\n            <version>3.7.1</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter-actuator</artifactId>\r\n        </dependency>\r\n    </dependencies>\r\n\r\n    <build>\r\n        <sourceDirectory>${project.basedir}/src/main/kotlin</sourceDirectory>\r\n        <testSourceDirectory>${project.basedir}/src/test/kotlin</testSourceDirectory>\r\n        <plugins>\r\n            <plugin>\r\n                <groupId>org.springframework.boot</groupId>\r\n                <artifactId>spring-boot-maven-plugin</artifactId>\r\n            </plugin>\r\n            <plugin>\r\n                <groupId>org.jetbrains.kotlin</groupId>\r\n                <artifactId>kotlin-maven-plugin</artifactId>\r\n                <configuration>\r\n                    <args>\r\n                        <arg>-Xjsr305=strict</arg>\r\n                    </args>\r\n                    <compilerPlugins>\r\n                        <plugin>spring</plugin>\r\n                    </compilerPlugins>\r\n                </configuration>\r\n                <dependencies>\r\n                    <dependency>\r\n                        <groupId>org.jetbrains.kotlin</groupId>\r\n                        <artifactId>kotlin-maven-allopen</artifactId>\r\n                        <version>${kotlin.version}</version>\r\n                    </dependency>\r\n                </dependencies>\r\n            </plugin>\r\n        </plugins>\r\n    </build>\r\n</project>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/pom.xml b/pom.xml
--- a/pom.xml	(revision cc03795de5a16b37a4d3745781b6c9cde674ef5f)
+++ b/pom.xml	(date 1759016216832)
@@ -132,6 +132,10 @@
             <groupId>org.springframework.boot</groupId>
             <artifactId>spring-boot-starter-actuator</artifactId>
         </dependency>
+        <dependency>
+            <groupId>com.github.ben-manes.caffeine</groupId>
+            <artifactId>caffeine</artifactId>
+        </dependency>
     </dependencies>
 
     <build>
Index: src/main/resources/application.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># Application Configuration\r\nspring.application.name=demo\r\n\r\n# Database Configuration\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/demo_db\r\nspring.datasource.username=demo_user\r\nspring.datasource.password=demo_pass\r\n\r\n# Flyway Configuration\r\nspring.flyway.enabled=true\r\n\r\n# Session Configuration\r\nspring.session.jdbc.initialize-schema=always\r\n\r\n# MyBatis Configuration\r\nmybatis.mapper-locations=classpath:mapper/*.xml\r\n\r\n# --- Performance: HTTP response compression ---\r\nserver.compression.enabled=true\r\nserver.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml\r\nserver.compression.min-response-size=1024\r\n\r\n# --- Static resources: content hash versioning & cache ---\r\nspring.web.resources.chain.enabled=true\r\nspring.web.resources.chain.strategy.content.enabled=true\r\nspring.web.resources.chain.strategy.content.paths=/**\r\nspring.web.resources.cache.period=7d\r\n\r\nserver.http2.enabled=true\r\n\r\n# --- Access log (Tomcat) ---\r\nserver.tomcat.accesslog.enabled=true\r\nserver.tomcat.accesslog.directory=logs\r\nserver.tomcat.accesslog.prefix=access\r\nserver.tomcat.accesslog.suffix=.log\r\nserver.tomcat.accesslog.pattern=combined\r\nserver.tomcat.accesslog.rotate=true\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>ISO-8859-1
===================================================================
diff --git a/src/main/resources/application.properties b/src/main/resources/application.properties
--- a/src/main/resources/application.properties	(revision cc03795de5a16b37a4d3745781b6c9cde674ef5f)
+++ b/src/main/resources/application.properties	(date 1759016323758)
@@ -35,3 +35,31 @@
 server.tomcat.accesslog.suffix=.log
 server.tomcat.accesslog.pattern=combined
 server.tomcat.accesslog.rotate=true
+
+# --- Cache: use Caffeine (size と TTL を適用) ---
+spring.cache.type=caffeine
+spring.cache.caffeine.spec=maximumSize=1000,expireAfterWrite=10m,recordStats
+
+# --- HikariCP (DB connection pool) ---
+spring.datasource.hikari.pool-name=demo-hikari
+spring.datasource.hikari.maximum-pool-size=10
+spring.datasource.hikari.minimum-idle=2
+spring.datasource.hikari.idle-timeout=600000
+spring.datasource.hikari.max-lifetime=1800000
+spring.datasource.hikari.connection-timeout=30000
+
+# --- Tomcat thread/queue tuning (軽負荷～中負荷の標準値) ---
+server.tomcat.threads.max=200
+server.tomcat.threads.min-spare=10
+server.tomcat.accept-count=100
+server.tomcat.max-connections=10000
+
+# --- Actuator exposure (本番では最小限に) ---
+management.endpoints.web.base-path=/actuator
+management.endpoints.web.exposure.include=health,info,metrics
+management.endpoint.health.show-details=when_authorized
+
+# --- Logging levels (必要に応じて調整) ---
+logging.level.org.springframework.web=INFO
+logging.level.org.mybatis=INFO
+# logging.level.org.springframework.jdbc.core=DEBUG
Index: .idea/copilotDiffState.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/copilotDiffState.xml b/.idea/copilotDiffState.xml
deleted file mode 100644
--- a/.idea/copilotDiffState.xml	(revision cc03795de5a16b37a4d3745781b6c9cde674ef5f)
+++ /dev/null	(revision cc03795de5a16b37a4d3745781b6c9cde674ef5f)
@@ -1,36 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<project version="4">
-  <component name="CopilotDiffPersistence">
-    <option name="pendingDiffs">
-      <map>
-        <entry key="$PROJECT_DIR$/pom.xml">
-          <value>
-            <PendingDiffInfo>
-              <option name="filePath" value="$PROJECT_DIR$/pom.xml" />
-              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#10;         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&#10;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&#10;    &lt;parent&gt;&#10;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&#10;        &lt;version&gt;3.5.6&lt;/version&gt;&#10;        &lt;relativePath/&gt;&#10;    &lt;/parent&gt;&#10;    &lt;groupId&gt;com.example&lt;/groupId&gt;&#10;    &lt;artifactId&gt;demo&lt;/artifactId&gt;&#10;    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&#10;    &lt;packaging&gt;jar&lt;/packaging&gt;&#10;    &lt;name&gt;demo&lt;/name&gt;&#10;    &lt;description&gt;Demo project for Spring Boot with Kotlin and MyBatis&lt;/description&gt;&#10;&#10;    &lt;properties&gt;&#10;        &lt;java.version&gt;21&lt;/java.version&gt;&#10;        &lt;kotlin.version&gt;1.9.25&lt;/kotlin.version&gt;&#10;    &lt;/properties&gt;&#10;&#10;    &lt;dependencies&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;&#10;            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;&#10;            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;&#10;            &lt;artifactId&gt;flyway-database-postgresql&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Kotlin support --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;&#10;            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;&#10;            &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Session management --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Docker Compose support --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-docker-compose&lt;/artifactId&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Development tools --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;            &lt;optional&gt;true&lt;/optional&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Test dependencies --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&#10;            &lt;scope&gt;test&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;&#10;            &lt;artifactId&gt;kotlin-test-junit5&lt;/artifactId&gt;&#10;            &lt;scope&gt;test&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;&#10;            &lt;scope&gt;annotationProcessor&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&#10;            &lt;exclusions&gt;&#10;                &lt;exclusion&gt;&#10;                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;&#10;                &lt;/exclusion&gt;&#10;            &lt;/exclusions&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;&#10;            &lt;version&gt;3.0.5&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;mybatis-spring-boot-starter-test&lt;/artifactId&gt;&#10;            &lt;version&gt;3.0.5&lt;/version&gt;&#10;            &lt;scope&gt;test&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.webjars&lt;/groupId&gt;&#10;            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;&#10;            &lt;version&gt;5.3.8&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.webjars.npm&lt;/groupId&gt;&#10;            &lt;artifactId&gt;bootstrap-icons&lt;/artifactId&gt;&#10;            &lt;version&gt;1.13.1&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.webjars&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jquery&lt;/artifactId&gt;&#10;            &lt;version&gt;3.7.1&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;    &lt;/dependencies&gt;&#10;&#10;    &lt;build&gt;&#10;        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;&#10;        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;&#10;        &lt;plugins&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&#10;            &lt;/plugin&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;&#10;                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;args&gt;&#10;                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;&#10;                    &lt;/args&gt;&#10;                    &lt;compilerPlugins&gt;&#10;                        &lt;plugin&gt;spring&lt;/plugin&gt;&#10;                    &lt;/compilerPlugins&gt;&#10;                &lt;/configuration&gt;&#10;                &lt;dependencies&gt;&#10;                    &lt;dependency&gt;&#10;                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;&#10;                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;&#10;                        &lt;version&gt;${kotlin.version}&lt;/version&gt;&#10;                    &lt;/dependency&gt;&#10;                &lt;/dependencies&gt;&#10;            &lt;/plugin&gt;&#10;        &lt;/plugins&gt;&#10;    &lt;/build&gt;&#10;&lt;/project&gt;&#10;" />
-              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#10;         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&#10;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&#10;    &lt;parent&gt;&#10;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&#10;        &lt;version&gt;3.5.6&lt;/version&gt;&#10;        &lt;relativePath/&gt;&#10;    &lt;/parent&gt;&#10;    &lt;groupId&gt;com.example&lt;/groupId&gt;&#10;    &lt;artifactId&gt;demo&lt;/artifactId&gt;&#10;    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&#10;    &lt;packaging&gt;jar&lt;/packaging&gt;&#10;    &lt;name&gt;demo&lt;/name&gt;&#10;    &lt;description&gt;Demo project for Spring Boot with Kotlin and MyBatis&lt;/description&gt;&#10;&#10;    &lt;properties&gt;&#10;        &lt;java.version&gt;21&lt;/java.version&gt;&#10;        &lt;kotlin.version&gt;1.9.25&lt;/kotlin.version&gt;&#10;    &lt;/properties&gt;&#10;&#10;    &lt;dependencies&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;&#10;            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;&#10;            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;&#10;            &lt;artifactId&gt;flyway-database-postgresql&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Kotlin support --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;&#10;            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;&#10;            &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Session management --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Docker Compose support --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-docker-compose&lt;/artifactId&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Development tools --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;            &lt;optional&gt;true&lt;/optional&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Test dependencies --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&#10;            &lt;scope&gt;test&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;&#10;            &lt;artifactId&gt;kotlin-test-junit5&lt;/artifactId&gt;&#10;            &lt;scope&gt;test&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;&#10;            &lt;scope&gt;annotationProcessor&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;&#10;            &lt;version&gt;3.0.5&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;mybatis-spring-boot-starter-test&lt;/artifactId&gt;&#10;            &lt;version&gt;3.0.5&lt;/version&gt;&#10;            &lt;scope&gt;test&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.webjars&lt;/groupId&gt;&#10;            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;&#10;            &lt;version&gt;5.3.8&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.webjars.npm&lt;/groupId&gt;&#10;            &lt;artifactId&gt;bootstrap-icons&lt;/artifactId&gt;&#10;            &lt;version&gt;1.13.1&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.webjars&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jquery&lt;/artifactId&gt;&#10;            &lt;version&gt;3.7.1&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;    &lt;/dependencies&gt;&#10;&#10;    &lt;build&gt;&#10;        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;&#10;        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;&#10;        &lt;plugins&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&#10;            &lt;/plugin&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;&#10;                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;args&gt;&#10;                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;&#10;                    &lt;/args&gt;&#10;                    &lt;compilerPlugins&gt;&#10;                        &lt;plugin&gt;spring&lt;/plugin&gt;&#10;                    &lt;/compilerPlugins&gt;&#10;                &lt;/configuration&gt;&#10;                &lt;dependencies&gt;&#10;                    &lt;dependency&gt;&#10;                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;&#10;                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;&#10;                        &lt;version&gt;${kotlin.version}&lt;/version&gt;&#10;                    &lt;/dependency&gt;&#10;                &lt;/dependencies&gt;&#10;            &lt;/plugin&gt;&#10;        &lt;/plugins&gt;&#10;    &lt;/build&gt;&#10;&lt;/project&gt;" />
-            </PendingDiffInfo>
-          </value>
-        </entry>
-        <entry key="$PROJECT_DIR$/src/main/kotlin/com/example/demo/config/UndertowWebSocketConfig.kt">
-          <value>
-            <PendingDiffInfo>
-              <option name="filePath" value="$PROJECT_DIR$/src/main/kotlin/com/example/demo/config/UndertowWebSocketConfig.kt" />
-              <option name="originalContent" value="package com.example.demo.config&#10;&#10;import io.undertow.server.DefaultByteBufferPool&#10;import io.undertow.websockets.jsr.WebSocketDeploymentInfo&#10;import org.springframework.boot.web.embedded.undertow.UndertowDeploymentInfoCustomizer&#10;import org.springframework.boot.web.embedded.undertow.UndertowServletWebServerFactory&#10;import org.springframework.context.annotation.Bean&#10;import org.springframework.context.annotation.Configuration&#10;import org.springframework.core.env.Environment&#10;import org.springframework.util.unit.DataSize&#10;&#10;@Configuration&#10;class UndertowWebSocketConfig(&#10;    private val env: Environment&#10;) {&#10;&#10;    @Bean&#10;    fun undertowServletWebServerFactory(): UndertowServletWebServerFactory {&#10;        val factory = UndertowServletWebServerFactory()&#10;&#10;        val customizer = UndertowDeploymentInfoCustomizer { di -&gt;&#10;            // Undertow の WebSocket 用バッファプールを設定（警告 UT026010 の解消）&#10;            val direct = true // 直接バッファ（GC 負荷軽減）&#10;            val dataSize: DataSize = env.getProperty(&#10;                &quot;server.undertow.buffer-size&quot;,&#10;                DataSize::class.java,&#10;                DataSize.ofKilobytes(16)&#10;            )&#10;            val bufferSize: Int = dataSize.toBytes().coerceAtMost(Int.MAX_VALUE.toLong()).toInt()&#10;            val wsInfo = WebSocketDeploymentInfo()&#10;            wsInfo.buffers = DefaultByteBufferPool(direct, bufferSize)&#10;            (di as io.undertow.servlet.api.DeploymentInfo)&#10;                .addServletContextAttribute(WebSocketDeploymentInfo.ATTRIBUTE_NAME, wsInfo)&#10;        }&#10;&#10;        factory.setDeploymentInfoCustomizers(listOf(customizer))&#10;        return factory&#10;    }&#10;}&#10;" />
-              <option name="updatedContent" value="package com.example.demo.config&#13;&#10;&#13;&#10;import org.springframework.context.annotation.Configuration&#13;&#10;&#13;&#10;@Configuration&#13;&#10;class UndertowWebSocketConfig {&#13;&#10;    // Undertow を削除したため本クラスは空のプレースホルダです。&#13;&#10;}" />
-            </PendingDiffInfo>
-          </value>
-        </entry>
-        <entry key="$PROJECT_DIR$/src/main/resources/application.properties">
-          <value>
-            <PendingDiffInfo>
-              <option name="filePath" value="$PROJECT_DIR$/src/main/resources/application.properties" />
-              <option name="originalContent" value="# Application Configuration&#10;spring.application.name=demo&#10;&#10;# Database Configuration&#10;spring.datasource.url=jdbc:postgresql://localhost:5432/demo_db&#10;spring.datasource.username=demo_user&#10;spring.datasource.password=demo_pass&#10;&#10;# Flyway Configuration&#10;spring.flyway.enabled=true&#10;&#10;# Session Configuration&#10;spring.session.jdbc.initialize-schema=always&#10;&#10;# MyBatis Configuration&#10;mybatis.mapper-locations=classpath:mapper/*.xml&#10;&#10;# --- Performance: HTTP response compression ---&#10;server.compression.enabled=true&#10;server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml&#10;server.compression.min-response-size=1024&#10;&#10;# --- Static resources: content hash versioning &amp; cache ---&#10;spring.web.resources.chain.enabled=true&#10;spring.web.resources.chain.strategy.content.enabled=true&#10;spring.web.resources.chain.strategy.content.paths=/**&#10;spring.web.resources.cache.period=7d&#10;&#10;# --- Undertow tuning ---&#10;# HTTP/2 を有効化（ALPN + TLS が必要）&#10;server.http2.enabled=true&#10;# ネットワーク I/O に直接バッファを使用（GC 負荷を軽減）&#10;server.undertow.direct-buffers=true&#10;# 1バッファのサイズ（既定は 16KB 程度）。I/O プロファイルに合わせて調整。&#10;server.undertow.buffer-size=16KB&#10;# 無通信時のタイムアウト。長時間ハングする接続を切る（必要に応じて調整）。&#10;server.undertow.no-request-timeout=30s&#10;&#10;# アクセスログ（性能監視・検証用）&#10;server.undertow.accesslog.enabled=true&#10;server.undertow.accesslog.dir=logs&#10;server.undertow.accesslog.pattern=combined&#10;server.undertow.accesslog.prefix=access&#10;server.undertow.accesslog.suffix=.log&#10;server.undertow.accesslog.rotate=true&#10;&#10;# スレッド数はデフォルト（CPU × 2 の IO、IO × 8 の worker）が一般に最適。&#10;# 必要になったら明示設定（例）:&#10;# server.undertow.threads.io=8&#10;# server.undertow.threads.worker=64&#10;" />
-              <option name="updatedContent" value="# Application Configuration&#10;spring.application.name=demo&#10;&#10;# Database Configuration&#10;spring.datasource.url=jdbc:postgresql://localhost:5432/demo_db&#10;spring.datasource.username=demo_user&#10;spring.datasource.password=demo_pass&#10;&#10;# Flyway Configuration&#10;spring.flyway.enabled=true&#10;&#10;# Session Configuration&#10;spring.session.jdbc.initialize-schema=always&#10;&#10;# MyBatis Configuration&#10;mybatis.mapper-locations=classpath:mapper/*.xml&#10;&#10;# --- Performance: HTTP response compression ---&#10;server.compression.enabled=true&#10;server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml&#10;server.compression.min-response-size=1024&#10;&#10;# --- Static resources: content hash versioning &amp; cache ---&#10;spring.web.resources.chain.enabled=true&#10;spring.web.resources.chain.strategy.content.enabled=true&#10;spring.web.resources.chain.strategy.content.paths=/**&#10;spring.web.resources.cache.period=7d&#10;&#10;# --- HTTP/2 (TLS/ALPNが前提。利用しない場合は無効化可) ---&#10;server.http2.enabled=true&#10;&#10;# --- Access log (Tomcat) ---&#10;server.tomcat.accesslog.enabled=true&#10;server.tomcat.accesslog.directory=logs&#10;server.tomcat.accesslog.prefix=access&#10;server.tomcat.accesslog.suffix=.log&#10;server.tomcat.accesslog.pattern=combined&#10;server.tomcat.accesslog.rotate=true" />
-            </PendingDiffInfo>
-          </value>
-        </entry>
-      </map>
-    </option>
-  </component>
-</project>
\ No newline at end of file
Index: target/classes/application.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># Application Configuration\r\nspring.application.name=demo\r\n\r\n# Database Configuration\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/demo_db\r\nspring.datasource.username=demo_user\r\nspring.datasource.password=demo_pass\r\n\r\n# Flyway Configuration\r\nspring.flyway.enabled=true\r\n\r\n# Session Configuration\r\nspring.session.jdbc.initialize-schema=always\r\n\r\n# MyBatis Configuration\r\nmybatis.mapper-locations=classpath:mapper/*.xml\r\n\r\n# --- Performance: HTTP response compression ---\r\nserver.compression.enabled=true\r\nserver.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml\r\nserver.compression.min-response-size=1024\r\n\r\n# --- Static resources: content hash versioning & cache ---\r\nspring.web.resources.chain.enabled=true\r\nspring.web.resources.chain.strategy.content.enabled=true\r\nspring.web.resources.chain.strategy.content.paths=/**\r\nspring.web.resources.cache.period=7d\r\n\r\n# --- HTTP/2 (TLS/ALPN????????????????) ---\r\nserver.http2.enabled=true\r\n\r\n# --- Access log (Tomcat) ---\r\nserver.tomcat.accesslog.enabled=true\r\nserver.tomcat.accesslog.directory=logs\r\nserver.tomcat.accesslog.prefix=access\r\nserver.tomcat.accesslog.suffix=.log\r\nserver.tomcat.accesslog.pattern=combined\r\nserver.tomcat.accesslog.rotate=true\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>ISO-8859-1
===================================================================
diff --git a/target/classes/application.properties b/target/classes/application.properties
--- a/target/classes/application.properties	(revision cc03795de5a16b37a4d3745781b6c9cde674ef5f)
+++ b/target/classes/application.properties	(date 1759016324479)
@@ -26,7 +26,6 @@
 spring.web.resources.chain.strategy.content.paths=/**
 spring.web.resources.cache.period=7d
 
-# --- HTTP/2 (TLS/ALPN????????????????) ---
 server.http2.enabled=true
 
 # --- Access log (Tomcat) ---
@@ -36,3 +35,31 @@
 server.tomcat.accesslog.suffix=.log
 server.tomcat.accesslog.pattern=combined
 server.tomcat.accesslog.rotate=true
+
+# --- Cache: use Caffeine (size ? TTL ???) ---
+spring.cache.type=caffeine
+spring.cache.caffeine.spec=maximumSize=1000,expireAfterWrite=10m,recordStats
+
+# --- HikariCP (DB connection pool) ---
+spring.datasource.hikari.pool-name=demo-hikari
+spring.datasource.hikari.maximum-pool-size=10
+spring.datasource.hikari.minimum-idle=2
+spring.datasource.hikari.idle-timeout=600000
+spring.datasource.hikari.max-lifetime=1800000
+spring.datasource.hikari.connection-timeout=30000
+
+# --- Tomcat thread/queue tuning (???????????) ---
+server.tomcat.threads.max=200
+server.tomcat.threads.min-spare=10
+server.tomcat.accept-count=100
+server.tomcat.max-connections=10000
+
+# --- Actuator exposure (????????) ---
+management.endpoints.web.base-path=/actuator
+management.endpoints.web.exposure.include=health,info,metrics
+management.endpoint.health.show-details=when_authorized
+
+# --- Logging levels (????????) ---
+logging.level.org.springframework.web=INFO
+logging.level.org.mybatis=INFO
+# logging.level.org.springframework.jdbc.core=DEBUG
